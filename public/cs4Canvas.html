<!DOCTYPE HTML>
<html>
<head>
    <style>
        body {
            margin: 0px;
            padding: 0px;

        }

        #myCanvas{
            border: 1px solid #333333;
        }
    </style>
</head>
<body>
<canvas id="myCanvas" width="800px" height="200px"></canvas>
<script>
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    var canvas = document.getElementById('myCanvas');
    var canvasWidth = canvas.width;
    var canvasStart = canvasWidth*.8;
    var canvasHeight = canvas.height;
    var pixelData = new Array(); //time: ,line: , data,
    var numberLoops = 0;
    var ticIncrement = 10;
    var lineStart = 180; // bottom of tic line
  //  context.translate(-.5,-.5);
    var offset=0;

    //setup origional time marks and time in the array

    for(var i = 0; i  < canvasStart; i+=ticIncrement){
       if(i%50 == 0){
           pixelData[i] = {line : 40};
       }
        else{
           pixelData[i] = {line : 20};
       }

    }

 //   pixelData.push('{time : new Date()}');  //put current time at starting position
  //  pixelData[0] = {time : new Date(), line : 10} ;

 //   pixelData[1] = {line : 5};

    setInterval(function(){movedata()},10);


    function movedata(){

        numberLoops++;
        pixelData.shift();

        context.clearRect(0,0,canvas.width,canvas.height);
        if(numberLoops%50 == 0){
            pixelData[canvasStart] = {line : 40, time : new Date()};
        }
        else if(numberLoops % ticIncrement == 0){
            pixelData[canvasStart] = {line : 20};
        }
        context.beginPath();

        for(var i = 0; i< pixelData.length; i++ ){
            if(pixelData[i].line != "undefined"){
              if(pixelData[i].line != "undefined"){
                  context.moveTo(i,lineStart);
                  context.lineTo(i,lineStart -pixelData[i].line);
              }
              if(pixelData[i].time != "undefined") {
                  context.fillText(pixelData[i].time,lineStart-14 ,192)

              }

            }
        }

        context.stroke();
/*
         offset -=.3;
        for(var i=1; i*10<canvasStart; i++)
        {
            if(i%5 ==0)
            {
                context.moveTo(i*10+offset,140);
                context.lineTo(i*10+offset, 180);
            }
            else
            {
                context.moveTo(i*10+offset,160);
                context.lineTo(i*10+offset, 180);
            }
            context.lineWidth = 1;
        }
        context.stroke();

        //add starting line
        context.beginPath();
        context.strokeStyle = 'red';
        context.moveTo(canvasStart, 0);
        context.lineTo(canvasStart, canvasHeight);
        context.stroke();
        context.strokeStyle = 'black';

        context.font="10px Arial";
        context.fillText("14:34",50-14+offset,192)
        context.fillText("14:43",50*11-14+offset,192)

*/

    }
</script>
</body>
</html>